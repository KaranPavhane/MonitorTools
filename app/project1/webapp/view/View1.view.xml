<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:chart="sap.suite.ui.commons"
    xmlns:viz="sap.viz.ui5.controls"
    xmlns:viz.data="sap.viz.ui5.data"
    xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"
    xmlns:table="sap.ui.table"
    xmlns:m="sap.m"
    controllerName="project1.controller.View1"
>
    <m:Page id="page">
        <m:IconTabBar
            id="idIconTabBarNoIcons"
            expanded="{device>/isNoPhone}"
            class="sapUiResponsiveContentPadding"
        >
            <m:items>
                <m:IconTabFilter
                    text="Uses Monitor"
                    key="monitor"
                    design="Horizontal"
                    icon="sap-icon://trend-up"
                    tooltip="Uses Monitor"
                    iconColor="Positive"
                >
                    
                    <m:Panel
                        id="fromToDatePanel"
                    >
                        <m:headerToolbar>
                            <m:OverflowToolbar>
                                <core:Icon src="sap-icon://filter" />
                                <m:Title text="Filters" 
                                    
                                />

                                <m:ToolbarSpacer />

                                <m:Label
                                    text="From:"
                                    labelFor="fromDatePicker"
                                    width="50px"
                                />
                                <m:DatePicker
                                    tooltip="Select From Date"
                                    id="fromDatePicker"
                                    width="150px"
                                    displayFormat="MMM-yyyy"
                                    valueFormat="yyyy-MM-dd"
                                    class="sapUiSmallMarginEnd"
                                />

                                <m:Label
                                    text="To:"
                                    width="30px"
                                    labelFor="toDatePicker"
                                />
                                <m:DatePicker
                                    id="toDatePicker"
                                    width="150px"
                                    tooltip="Select To Date"
                                    displayFormat="MMM-yyyy"
                                    valueFormat="yyyy-MM-dd"
                                />

                                <m:Button
                                    tooltip="Press to Load Data"
                                    icon="sap-icon://search"
                                    width="30px"
                                    type="Success"
                                  
                                    press="onPressLoadUsageData"
                                    class="sapUiSmallMarginEnd"
                                />
                            </m:OverflowToolbar>
                        </m:headerToolbar>

                        <m:HBox
                            justifyContent="SpaceBetween"
                            class="sapUiSmallMargingTop"
                            width="100%"
                            id="filterUserTable"
                            visible="false"
                        >
                            <m:VBox>
                                <m:Label text="Global Account" />
                                <m:MultiComboBox
                                    tooltip="Select Global Account"
                                    id="uGAccount"
                                    placeholder="All Accounts"
                                    selectionFinish=".handleUsageSelectionFinish"
                                    width="250px"
                                    items="{path: 'obj>/uniqueGlobalAccounts'}"
                                >
                                    <core:Item
                                        key="{obj>}"
                                        text="{obj>}"
                                    />
                                </m:MultiComboBox>

                                <m:HBox
                                    id="activeFilterBox"
                                    class="sapUiTinyMarginTop"
                                    alignItems="Center"
                                    justifyContent="Start"
                                    visible="false"
                                >
                                    <m:Text
                                        id="activeFiltersText"
                                        text="Active filters: 0 selected"
                                    />
                                    <m:Link
                                        text="Clear All"
                                        tooltip="Clear All Filters"
                                        press=".onPressClearFilterOfUsage"
                                        class="sapUiSmallMarginBegin"
                                    />
                                </m:HBox>
                            </m:VBox>

                            <m:VBox>
                                <m:Label text="Subaccount" />
                                <m:MultiComboBox
                                    id="uSubaccount"
                                    tooltip="Select Subaccount"
                                    placeholder="All Subaccounts"
                                    selectionFinish=".handleUsageSelectionFinish"
                                    width="250px"
                                    items="{path: 'obj>/uniqueSubaccounts'}"
                                >
                                    <core:Item
                                        key="{obj>}"
                                        text="{obj>}"
                                    />
                                </m:MultiComboBox>
                            </m:VBox>

                            <m:VBox>
                                <m:Label text="Service" />
                                <m:MultiComboBox
                                    id="uService"
                                    tooltip="Select Services"
                                    placeholder="All Services"
                                    selectionFinish=".handleUsageSelectionFinish"
                                    width="250px"
                                    items="{path: 'obj>/uniqueServices'}"
                                >
                                    <core:Item
                                        key="{obj>}"
                                        text="{obj>}"
                                    />
                                </m:MultiComboBox>
                            </m:VBox>

                            <m:VBox>
                                <m:Label text="Space" />
                                <m:MultiComboBox
                                    id="uSpace"
                                    tooltip="Select Spaces"
                                    placeholder="All Spaces"
                                    selectionFinish=".handleUsageSelectionFinish"
                                    width="250px"
                                    items="{path: 'obj>/uniqueSpaces'}"
                                >
                                    <core:Item
                                        key="{obj>}"
                                        text="{obj>}"
                                    />
                                </m:MultiComboBox>
                            </m:VBox>
                        </m:HBox>
                    </m:Panel>

                    <m:HBox
                        justifyContent="SpaceBetween"
                        width="100%"
                        id="cardBox"
                        visible="false"
                        class="sapUiSmallMarginTop sapUiSmallMarginBottom"
                    >
                        <m:VBox class="statCard">
                            <m:HBox
                                justifyContent="SpaceBetween"
                                alignItems="Center"
                            >
                                <m:VBox>
                                    <m:Text
                                        text="Total Usage"
                                        class="statTitle"
                                    />
                                    <m:Text
                                        text="{obj>/totalUsage}"
                                        class="statValue"
                                    />
                                </m:VBox>

                                <m:VBox class="iconBox">
                                    <core:Icon
                                        src="sap-icon://business-objects-experience"
                                        width="32px"
                                    />
                                </m:VBox>
                            </m:HBox>
                        </m:VBox>

                        <m:VBox class="statCard">
                            <m:HBox
                                justifyContent="SpaceBetween"
                                alignItems="Center"
                            >
                                <m:VBox>
                                    <m:Text
                                        text="Subaccounts"
                                        class="statTitle"
                                    />
                                    <m:Text
                                        text="{= ${obj>/uniqueSubaccounts}.length }"
                                        class="statValue"
                                    />
                                </m:VBox>

                                <m:VBox class="iconBoxOrange">
                                    <core:Icon
                                        src="sap-icon://credit-card"
                                        width="32px"
                                    />
                                </m:VBox>
                            </m:HBox>
                        </m:VBox>

                        <m:VBox class="statCard">
                            <m:HBox
                                justifyContent="SpaceBetween"
                                alignItems="Center"
                            >
                                <m:VBox>
                                    <m:Text
                                        text="Services"
                                        class="statTitle"
                                    />
                                    <m:Text
                                        text="{= ${obj>/uniqueServices}.length }"
                                        class="statValue"
                                    />
                                </m:VBox>

                                <m:VBox class="iconBoxGreen">
                                    <core:Icon
                                        src="sap-icon://official-service"
                                        width="32px"
                                    />
                                </m:VBox>
                            </m:HBox>
                        </m:VBox>

                        <m:VBox class="statCard">
                            <m:HBox
                                justifyContent="SpaceBetween"
                                alignItems="Center"
                            >
                                <m:VBox>
                                    <m:Text
                                        text="Spaces"
                                        class="statTitle"
                                    />
                                    <m:Text
                                        text="{= ${obj>/uniqueSpaces}.length }"
                                        class="statValue"
                                    />
                                </m:VBox>

                                <m:VBox class="iconBoxBlue">
                                    <core:Icon
                                        src="sap-icon://step"
                                        width="32px"
                                    />
                                </m:VBox>
                            </m:HBox>
                        </m:VBox>
                    </m:HBox>

                    <m:Panel
                        class="sapUiSmallMargingTop"
                        id="usagesDetailsPanel"
                        visible="false"
                    >
                        <m:HBox>
                            <m:Text
                                text="Usage Details"
                                class="text04 sapUiSmallMarginEnd"
                            />

                            <m:Text text="({obj>/filteredCount} records)" />
                        </m:HBox>
                    </m:Panel>

                    <m:ScrollContainer
                        class="sapUiSmallMarginTop"
                        height="500px"
                        vertical="true"
                        horizontal="true"
                    >
                        <table:Table
                            id="UsageTable"
                            rows="{path: 'obj>/getUsageData'}"
                            visibleRowCount="10"
                            selectionMode="None"
                            visible="false"
                            enableColumnReordering="true"
                            columnHeaderVisible="true"
                        >
                            <table:extension>
                                <m:OverflowToolbar>
                                    <m:Title
                                        text="Usage Data"
                                        level="H4"
                                    />

                                    <m:ToolbarSpacer />

                                    <m:Button
                                        id="btnDownloadUsage"
                                        text="Download Usage"
                                        icon="sap-icon://download"
                                        type="Emphasized"
                                        press=".onDownloadData"
                                        class="sapUiTinyMarginEnd"
                                    />
                                </m:OverflowToolbar>
                            </table:extension>
                            <table:columns>
                                <table:Column
                                    width="200px"
                                    sorted="true"
                                    sortProperty="globalAccountName"
                                    filterProperty="globalAccountName"
                                >
                                    <table:label>
                                        <m:Label text="Global Account Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text
                                            text="{obj>globalAccountName}"
                                        />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="180px"
                                    sorted="true"
                                    sortProperty="subaccountName"
                                    filterProperty="subaccountName"
                                >
                                    <table:label>
                                        <m:Label text="Subaccount Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{obj>subaccountName}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="200px"
                                    sorted="true"
                                    sortProperty="reportYearMonth"
                                    filterProperty="ReportYearMonthFormatted"
                                >
                                    <table:label>
                                        <m:Label text="Report Year Month" />
                                    </table:label>
                                    <table:template>
                                        <m:Text
                                            text="{obj>ReportYearMonthFormatted}"
                                        />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="260px"
                                    sorted="true"
                                    sortProperty="serviceName"
                                    filterProperty="serviceName"
                                >
                                    <table:label>
                                        <m:Label text="Service Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{obj>serviceName}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="160px"
                                    sorted="true"
                                    sortProperty="plan"
                                    filterProperty="plan"
                                >
                                    <table:label>
                                        <m:Label text="Plan" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{obj>plan}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="160px"
                                    sorted="true"
                                    sortProperty="planName"
                                    filterProperty="planName"
                                >
                                    <table:label>
                                        <m:Label text="Plan Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{obj>planName}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="260px"
                                    sorted="true"
                                    sortProperty="environmentInstanceName"
                                    filterProperty="environmentInstanceName"
                                > 
                                     <table:label>
                                        <m:Label
                                            text="Environment Instance Name"
                                        />
                                    </table:label>
                                    <table:template>
                                        <m:Text
                                            text="{obj>environmentInstanceName}"
                                        />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="120px"
                                    sorted="true"
                                    sortProperty="spaceName"
                                    filterProperty="spaceName"
                                >
                                    <table:label>
                                        <m:Label text="Space Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{obj>spaceName}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="180px"
                                    sorted="true"
                                    sortProperty="metricName"
                                    filterProperty="metricName"
                                >
                                    <table:label>
                                        <m:Label text="Metric Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{obj>metricName}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="120px"
                                    sorted="true"
                                    sortProperty="usage"
                                    filterProperty="usage"
                                >
                                    <table:label>
                                        <m:Label text="Usage" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{obj>usage}" />
                                    </table:template>
                                </table:Column>
                            </table:columns>
                        </table:Table>
                    </m:ScrollContainer>
                </m:IconTabFilter>
                <m:IconTabFilter
                    text="Cost Analysis"
                    design="Horizontal"
                    icon="sap-icon://paid-leave"
                    key="analisys"
                    iconColor="Critical"
                >
                    <m:Panel>
                        <m:headerToolbar>
                            <m:OverflowToolbar>
                                <core:Icon src="sap-icon://filter" />
                                <m:Title text="Filters" />

                                <m:ToolbarSpacer />

                                <m:Label
                                    text="From:"
                                    labelFor="fromDatePicker"
                                    width="50px"
                                />
                                <m:DatePicker
                                    tooltip="Select From Date"
                                    id="fromDatePickerCost"
                                    width="150px"
                                    displayFormat="MMM-yyyy"
                                    valueFormat="yyyy-MM-dd"
                                    class="sapUiSmallMarginEnd"
                                />

                                <m:Label
                                    text="To:"
                                    width="30px"
                                    labelFor="toDatePicker"
                                />
                                <m:DatePicker
                                    id="toDatePickerCost"
                                    width="150px"
                                    tooltip="Select To Date"
                                    displayFormat="MMM-yyyy"
                                    valueFormat="yyyy-MM-dd"
                                />

                                <m:Button
                                    tooltip="Press to Load Data"
                                    icon="sap-icon://search"
                                    width="30px"
                                    type="Success"
                                    press="onPressLoadCostData"
                                    class="sapUiSmallMarginEnd"
                                />
                            </m:OverflowToolbar>
                        </m:headerToolbar>

                        <m:HBox
                            justifyContent="SpaceBetween"
                            width="100%"
                            id="costFilterBar"
                            visible="false"
                        >
                            <m:VBox>
                                <m:Label text="Global Account" />
                                <m:MultiComboBox
                                    id="cGlobalAccount"
                                    width="250px"
                                    placeholder="All Accounts"
                                    selectionChange=".handleCostSelectionFinish"
                                    items="{path: 'costObj>/costGlobalAccount'}"
                                >
                                    <core:Item
                                        key="{costObj>}"
                                        text="{costObj>}"
                                    />
                                </m:MultiComboBox>

                                <m:HBox
                                    id="costFilterBox"
                                    class="sapUiTinyMarginTop"
                                    alignItems="Center"
                                    justifyContent="Start"
                                    visible="false"
                                >
                                    <m:Text
                                        id="costFiltersText"
                                        text="Active filters: 0 selected"
                                    />
                                    <m:Link
                                        text="Clear All"
                                        press=".onPressClearFilterOfCost"
                                        class="sapUiSmallMarginBegin"
                                    />
                                </m:HBox>
                            </m:VBox>

                            <m:VBox>
                                <m:Label text="Subaccount" />
                                <m:MultiComboBox
                                    id="cSubaccount"
                                    width="250px"
                                    selectionChange=".handleCostSelectionFinish"
                                    placeholder="All Subaccounts"
                                    items="{path: 'costObj>/costSubaccount'}"
                                >
                                    <core:Item
                                        key="{costObj>}"
                                        text="{costObj>}"
                                    />
                                </m:MultiComboBox>
                            </m:VBox>

                            <m:VBox>
                                <m:Label text="Service" />
                                <m:MultiComboBox
                                    id="cService"
                                    width="250px"
                                    selectionChange=".handleCostSelectionFinish"
                                    placeholder="All Services"
                                    items="{path: 'costObj>/costServices'}"
                                >
                                    <core:Item
                                        key="{costObj>}"
                                        text="{costObj>}"
                                    />
                                </m:MultiComboBox>
                            </m:VBox>

                            <m:VBox>
                                <m:Label text="Report Year Month" />
                                <m:MultiComboBox
                                    id="cReportYearMonth"
                                    width="250px"
                                    selectionChange=".handleCostSelectionFinish"
                                    placeholder="All Months"
                                    items="{path: 'costObj>/costReportYearDate'}"
                                >
                                    <core:Item
                                        key="{costObj>}"
                                        text="{costObj>}"
                                    />
                                </m:MultiComboBox>
                            </m:VBox>
                        </m:HBox>
                    </m:Panel>

                    <m:Panel
                        class="sapUiSmallMarginTop sapUiSmallMarginBottom fullBgPanel"
                        id="costDescBlock"
                        visible="false"
                    >
                        <m:HBox class="sapUiSmallMarginBottom">
                            <m:Text
                                text="$ Total Cost"
                                class="text01"
                            />
                        </m:HBox>
                        <m:HBox class="sapUiSmallMarginBottom">
                            <m:Text
                                text="EUR {costObj>/totalCost}"
                                class="text02"
                            />
                        </m:HBox>
                        <m:HBox>
                            <m:Text
                                text="Based on {costObj>/costCount} records"
                                class="text03"
                            />
                        </m:HBox>
                    </m:Panel>

                    <m:Panel
                        id="costDetailPanel"
                        visible="false"
                    >
                        <m:HBox>
                            <m:Text
                                text="Cost Details"
                                class="text04 sapUiSmallMarginEnd"
                            />

                            <m:Text text="({costObj>/costCount} records)" />
                        </m:HBox>
                    </m:Panel>

                    <m:ScrollContainer
                        height="450px"
                        vertical="true"
                        class="sapUiSmallMarginTop"
                        horizontal="true"
                    >
                        <table:Table
                            id="costTable"
                            rows="{path: 'costObj>/getCostData'}"
                            visibleRowCount="10"
                            selectionMode="None"
                            enableColumnReordering="true"
                            columnHeaderVisible="true"
                            visible="false"
                            enableSelectAll="false"
                        >
                            <table:extension>
                                <m:OverflowToolbar>
                                    <m:Title
                                        text="Cost Data"
                                        level="H4"
                                    />

                                    <m:ToolbarSpacer />

                                    <m:Button
                                        id="btnDownloadCost"
                                        text="Download Cost"
                                        icon="sap-icon://download"
                                        type="Emphasized"
                                        press=".onDownloadData"
                                        class="sapUiTinyMarginEnd"
                                    />
                                </m:OverflowToolbar>
                            </table:extension>

                            <table:columns>
                                <table:Column
                                    width="200px"
                                    sortProperty="globalAccountName"
                                    filterProperty="globalAccountName"
                                    sorted="true"
                                    sortOrder="Ascending"
                                >
                                    <table:label>
                                        <m:Label text="Global Account Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text
                                            text="{costObj>globalAccountName}"
                                        />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="200px"
                                    sortProperty="subaccountName"
                                    sorted="true"
                                    filterProperty="subaccountName"
                                >
                                    <table:label>
                                        <m:Label text="Subaccount Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text
                                            text="{costObj>subaccountName}"
                                        />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="160px"
                                    sortProperty="reportYearMonth"
                                    sorted="true"
                                    filterProperty="reportYearMonthFormatted"
                                >
                                    <table:label>
                                        <m:Label text="Report Year Month" />
                                    </table:label>
                                    <table:template>
                                        <m:Text
                                            text="{costObj>reportYearMonthFormatted}"
                                        />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="260px"
                                    sortProperty="serviceName"
                                    sorted="true"
                                    filterProperty="serviceName"
                                >
                                    <table:label>
                                        <m:Label text="Service Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{costObj>serviceName}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="150px"
                                    sortProperty="planName"
                                    sorted="true"
                                    filterProperty="planName"
                                >
                                    <table:label>
                                        <m:Label text="Plan Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{costObj>planName}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="180px"
                                    sortProperty="metricName"
                                    sorted="true"
                                    filterProperty="metricName"
                                >
                                    <table:label>
                                        <m:Label text="Metric Name" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{costObj>metricName}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="130px"
                                    sortProperty="unitPlural"
                                    sorted="true"
                                    filterProperty="unitPlural"
                                >
                                    <table:label>
                                        <m:Label text="Unit Plural" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{costObj>unitPlural}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="130px"
                                    sortProperty="usage"
                                    sorted="true"
                                    filterProperty="usage"
                                >
                                    <table:label>
                                        <m:Label text="Usage" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{costObj>usage}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="130px"
                                    sortProperty="currency"
                                    sorted="true"
                                    filterProperty="currency"
                                >
                                    <table:label>
                                        <m:Label text="Currency" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{costObj>currency}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="130px"
                                    sortProperty="cost"
                                    sorted="true"
                                    filterProperty="cost"
                                >
                                    <table:label>
                                        <m:Label text="Cost" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{costObj>cost}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="130px"
                                    sortProperty="quota"
                                    sorted="true"
                                    filterProperty="quota"
                                >
                                    <table:label>
                                        <m:Label text="Quota" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{costObj>quota}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="130px"
                                    sortProperty="actualUsage"
                                    sorted="true"
                                    filterProperty="actualUsage"
                                >
                                    <table:label>
                                        <m:Label text="Actual Usage" />
                                    </table:label>
                                    <table:template>
                                        <m:Text text="{costObj>actualUsage}" />
                                    </table:template>
                                </table:Column>

                                <table:Column
                                    width="150px"
                                    sortProperty="chargedBlocks"
                                    sorted="true"
                                    filterProperty="chargedBlocks"
                                >
                                    <table:label>
                                        <m:Label text="Charged Blocks" />
                                    </table:label>
                                    <table:template>
                                        <m:Text
                                            text="{costObj>chargedBlocks}"
                                        />
                                    </table:template>
                                </table:Column>
                            </table:columns>
                        </table:Table>
                    </m:ScrollContainer>
                </m:IconTabFilter>
                <m:IconTabFilter
                    text="Reporting"
                    key="reporting"
                    design="Horizontal"
                    icon="sap-icon://vertical-bar-chart-2"
                >
                    <m:Panel>
                        <m:HBox
                            justifyContent="SpaceBetween"
                            width="100%"
                        >
                            <m:HBox>
                                <core:Icon src="sap-icon://bar-chart" />
                                <m:Text
                                    text="Analytics Dashboard"
                                    class="sapUiSmallMarginBegin textReport01"
                                />
                            </m:HBox>
                            <m:HBox>
                                <m:SegmentedButton
                                    id="analyticsSegment"
                                    selectedKey="usage"
                                    select="onSegmentedButtonSelect"
                                >
                                    <m:items>
                                        <m:SegmentedButtonItem
                                            text="Usage Analytics"
                                            key="usage"
                                            width="180px"
                                        />
                                        <m:SegmentedButtonItem
                                            text="Cost Analytics"
                                            key="cost"
                                            width="180px"
                                        />
                                    </m:items>
                                </m:SegmentedButton>
                            </m:HBox>
                        </m:HBox>
                    </m:Panel>

                    <m:VBox
                        id="usageGraphBox"
                        visible="true"
                    >
                        <m:HBox
                            width="100%"
                            justifyContent="SpaceBetween"
                            class="sapUiMediumMarginTop"
                            renderType="Bare"
                        >
                            <!-- Left Chart: Top Services by Usage -->
                            <m:VBox
                                width="48%"
                                height="100%"
                            >
                                <chart:ChartContainer
                                    id="usageChartContainer"
                                    showFullScreen="true"
                                    showPersonalization="false"
                                    autoAdjustHeight="false"
                                    showSelectionDetails="true"
                                    title="Top Services by Usage"
                                    width="100%"
                                >
                                    <chart:content>
                                        <chart:ChartContainerContent>
                                            <chart:content>
                                                <viz:VizFrame
                                                    id="usageChart"
                                                    vizType="column"
                                                    width="100%"
                                                    height="500px"
                                                    uiConfig="{applicationSet:'fiori'}"
                                                    vizProperties='{
                                "categoryAxis": {
                                    "label": { "rotation": -45, "visible": true }
                                },
                                "plotArea": { "dataLabel": { "visible": true } }
                            }'
                                                >
                                                    <viz:dataset>
                                                        <viz.data:FlattenedDataset
                                                            data="{obj>/usageChartData}"
                                                        >
                                                            <viz.data:dimensions
                                                            >
                                                                <viz.data:DimensionDefinition
                                                                    name="Service"
                                                                    value="{obj>ServiceName}"
                                                                />
                                                            </viz.data:dimensions>
                                                            <viz.data:measures>
                                                                <viz.data:MeasureDefinition
                                                                    name="Total Usage"
                                                                    value="{obj>TotalUsage}"
                                                                />
                                                            </viz.data:measures>
                                                        </viz.data:FlattenedDataset>
                                                    </viz:dataset>
                                                    <viz:feeds>
                                                        <viz.feeds:FeedItem
                                                            uid="valueAxis"
                                                            type="Measure"
                                                            values="Total Usage"
                                                        />
                                                        <viz.feeds:FeedItem
                                                            uid="categoryAxis"
                                                            type="Dimension"
                                                            values="Service"
                                                        />
                                                    </viz:feeds>
                                                </viz:VizFrame>
                                            </chart:content>
                                        </chart:ChartContainerContent>
                                    </chart:content>
                                </chart:ChartContainer>
                            </m:VBox>

                            <!-- Right Chart: Usage by Subaccount -->
                            <m:VBox
                                width="48%"
                                height="100%"
                            >
                                <chart:ChartContainer
                                    id="usageSubaccountChartContainer"
                                    showFullScreen="true"
                                    showPersonalization="false"
                                    autoAdjustHeight="false"
                                    showSelectionDetails="true"
                                    title="Usage by Subaccount"
                                    width="100%"
                                >
                                    <chart:content>
                                        <chart:ChartContainerContent>
                                            <chart:content>
                                                <viz:VizFrame
                                                    id="usageSubaccountPieChart"
                                                    vizType="pie"
                                                    width="100%"
                                                    height="500px"
                                                    uiConfig="{applicationSet:'fiori'}"
                                                    vizProperties='{
                                "plotArea": { 
                                    "dataLabel": { 
                                        "visible": true,
                                        "type": "percentage"
                                    } 
                                },
                                "legend": { "visible": true }
                            }'
                                                >
                                                    <viz:dataset>
                                                        <viz.data:FlattenedDataset
                                                            data="{obj>/usageSubaccountChart}"
                                                        >
                                                            <viz.data:dimensions
                                                            >
                                                                <viz.data:DimensionDefinition
                                                                    name="Subaccount"
                                                                    value="{obj>SubaccountName}"
                                                                />
                                                            </viz.data:dimensions>
                                                            <viz.data:measures>
                                                                <viz.data:MeasureDefinition
                                                                    name="Usage (%)"
                                                                    value="{obj>Usage}"
                                                                />
                                                            </viz.data:measures>
                                                        </viz.data:FlattenedDataset>
                                                    </viz:dataset>
                                                    <viz:feeds>
                                                        <viz.feeds:FeedItem
                                                            uid="size"
                                                            type="Measure"
                                                            values="Usage (%)"
                                                        />
                                                        <viz.feeds:FeedItem
                                                            uid="color"
                                                            type="Dimension"
                                                            values="Subaccount"
                                                        />
                                                    </viz:feeds>
                                                </viz:VizFrame>
                                            </chart:content>
                                        </chart:ChartContainerContent>
                                    </chart:content>
                                </chart:ChartContainer>
                            </m:VBox>
                        </m:HBox>

                        <m:HBox
                            width="100%"
                            justifyContent="SpaceBetween"
                            class="sapUiMediumMarginTop"
                            renderType="Bare"
                        >
                            <m:VBox
                                width="48%"
                                height="100%"
                            >
                                <chart:ChartContainer
                                    id="monthlyUsageTrendContainer"
                                    showFullScreen="true"
                                    showPersonalization="true"
                                    autoAdjustHeight="true"
                                    title="Monthly Usage Trend"
                                    width="100%"
                                >
                                    <chart:content>
                                        <chart:ChartContainerContent
                                            icon="sap-icon://line-chart"
                                            title="Monthly Usage Trend"
                                        >
                                            <chart:content>
                                                <viz:VizFrame
                                                    id="monthlyUsageTrendChart"
                                                    vizType="line"
                                                    width="100%"
                                                    height="500px"
                                                    uiConfig="{applicationSet:'fiori'}"
                                                    vizProperties='{
                                "plotArea": { "dataLabel": { "visible": true }},
                                "valueAxis": { "title": { "visible": true, "text": "Total Usage" }},
                                "categoryAxis": { "title": { "visible": true, "text": "Month" }}
                            }'
                                                >
                                                    <viz:dataset>
                                                        <viz.data:FlattenedDataset
                                                            data="{obj>/monthlyUsageTrendChart}"
                                                        >
                                                            <viz.data:dimensions
                                                            >
                                                                <viz.data:DimensionDefinition
                                                                    name="Month"
                                                                    value="{obj>Month}"
                                                                />
                                                            </viz.data:dimensions>
                                                            <viz.data:measures>
                                                                <viz.data:MeasureDefinition
                                                                    name="Total Usage"
                                                                    value="{obj>TotalUsage}"
                                                                />
                                                            </viz.data:measures>
                                                        </viz.data:FlattenedDataset>
                                                    </viz:dataset>
                                                    <viz:feeds>
                                                        <viz.feeds:FeedItem
                                                            uid="valueAxis"
                                                            type="Measure"
                                                            values="Total Usage"
                                                        />
                                                        <viz.feeds:FeedItem
                                                            uid="categoryAxis"
                                                            type="Dimension"
                                                            values="Month"
                                                        />
                                                    </viz:feeds>
                                                </viz:VizFrame>
                                            </chart:content>
                                        </chart:ChartContainerContent>
                                    </chart:content>
                                </chart:ChartContainer>
                            </m:VBox>

                            <m:VBox
                                width="48%"
                                height="100%"
                            >
                                <chart:ChartContainer
                                    id="spaceUsageContainer"
                                    showFullScreen="true"
                                    showPersonalization="false"
                                    autoAdjustHeight="false"
                                    showSelectionDetails="true"
                                    title="Space Distribution"
                                    width="100%"
                                >
                                    <chart:content>
                                        <chart:ChartContainerContent
                                            title="Space Distribution"
                                        >
                                            <chart:content>
                                                <viz:VizFrame
                                                    id="spaceUsagePieChart"
                                                    vizType="pie"
                                                    width="100%"
                                                    height="500px"
                                                    uiConfig="{applicationSet:'fiori'}"
                                                    vizProperties='{
                                "plotArea": { "dataLabel": { "visible": true, "type": "percentage" }},
                                "legend": { "visible": true }
                            }'
                                                >
                                                    <viz:dataset>
                                                        <viz.data:FlattenedDataset
                                                            data="{obj>/spaceUsageChart}"
                                                        >
                                                            <viz.data:dimensions
                                                            >
                                                                <viz.data:DimensionDefinition
                                                                    name="Space"
                                                                    value="{obj>SpaceName}"
                                                                />
                                                            </viz.data:dimensions>
                                                            <viz.data:measures>
                                                                <viz.data:MeasureDefinition
                                                                    name="Usage"
                                                                    value="{obj>Usage}"
                                                                />
                                                            </viz.data:measures>
                                                        </viz.data:FlattenedDataset>
                                                    </viz:dataset>
                                                    <viz:feeds>
                                                        <viz.feeds:FeedItem
                                                            uid="size"
                                                            type="Measure"
                                                            values="Usage"
                                                        />
                                                        <viz.feeds:FeedItem
                                                            uid="color"
                                                            type="Dimension"
                                                            values="Space"
                                                        />
                                                    </viz:feeds>
                                                </viz:VizFrame>
                                            </chart:content>
                                        </chart:ChartContainerContent>
                                    </chart:content>
                                </chart:ChartContainer>
                            </m:VBox>
                        </m:HBox>
                    </m:VBox>

                    <m:VBox
                        id="costGraphBox"
                        visible="false"
                    >
                        <m:HBox
                            width="100%"
                            justifyContent="SpaceBetween"
                            class="sapUiSmallMarginTop"
                        >
                            <m:VBox
                                width="48%"
                                class="sapUiSmallMarginEnd"
                            >
                                <chart:ChartContainer
                                    id="chartContainer"
                                    showFullScreen="true"
                                    showPersonalization="false"
                                    autoAdjustHeight="false"
                                    showSelectionDetails="true"
                                    title="Top Services by Cost"
                                    width="100%"
                                >
                                    <chart:content>
                                        <chart:ChartContainerContent>
                                            <chart:content>
                                                <viz:VizFrame
                                                    id="serviceCostChart"
                                                    vizType="column"
                                                    width="100%"
                                                    height="500px"
                                                    uiConfig="{applicationSet:'fiori'}"
                                                    vizProperties='{
                                                    "categoryAxis": {
                                                    "label": { "rotation": -45, "visible": true }
                                                     },
                                                     "plotArea": { "dataLabel": { "visible": true } }
                                                     }'
                                                >
                                                    <viz:dataset>
                                                        <viz.data:FlattenedDataset
                                                            data="{costObj>/serviceCostChart}"
                                                        >
                                                            <viz.data:dimensions
                                                            >
                                                                <viz.data:DimensionDefinition
                                                                    name="Service"
                                                                    value="{costObj>ServiceName}"
                                                                />
                                                            </viz.data:dimensions>

                                                            <viz.data:measures>
                                                                <viz.data:MeasureDefinition
                                                                    name="Total Cost"
                                                                    value="{costObj>TotalCost}"
                                                                />
                                                            </viz.data:measures>
                                                        </viz.data:FlattenedDataset>
                                                    </viz:dataset>

                                                    <viz:feeds>
                                                        <viz.feeds:FeedItem
                                                            uid="valueAxis"
                                                            type="Measure"
                                                            values="Total Cost"
                                                        />
                                                        <viz.feeds:FeedItem
                                                            uid="categoryAxis"
                                                            type="Dimension"
                                                            values="Service"
                                                        />
                                                    </viz:feeds>
                                                </viz:VizFrame>
                                            </chart:content>
                                        </chart:ChartContainerContent>
                                    </chart:content>
                                </chart:ChartContainer>
                            </m:VBox>

                            <m:VBox width="48%">
                                <chart:ChartContainer
                                    id="subaccountChartContainer"
                                    showFullScreen="true"
                                    showPersonalization="false"
                                    autoAdjustHeight="false"
                                    showSelectionDetails="true"
                                    title="Cost by Subaccount"
                                    width="100%"
                                >
                                    <chart:content>
                                        <chart:ChartContainerContent>
                                            <chart:content>
                                                <viz:VizFrame
                                                    id="subaccountPieChart"
                                                    vizType="pie"
                                                    width="100%"
                                                    height="500px"
                                                    uiConfig="{applicationSet:'fiori'}"
                                                    vizProperties='{
                                                    "plotArea": { "dataLabel": { "visible": true } },
                                                    "legend": { "visible": true }
                                                }'
                                                >
                                                    <viz:dataset>
                                                        <viz.data:FlattenedDataset
                                                            data="{costObj>/subaccountCostChart}"
                                                        >
                                                            <viz.data:dimensions
                                                            >
                                                                <viz.data:DimensionDefinition
                                                                    name="Subaccount"
                                                                    value="{costObj>SubaccountName}"
                                                                />
                                                            </viz.data:dimensions>

                                                            <viz.data:measures>
                                                                <viz.data:MeasureDefinition
                                                                    name="Cost"
                                                                    value="{costObj>Cost}"
                                                                />
                                                            </viz.data:measures>
                                                        </viz.data:FlattenedDataset>
                                                    </viz:dataset>

                                                    <viz:feeds>
                                                        <viz.feeds:FeedItem
                                                            uid="size"
                                                            type="Measure"
                                                            values="Cost"
                                                        />
                                                        <viz.feeds:FeedItem
                                                            uid="color"
                                                            type="Dimension"
                                                            values="Subaccount"
                                                        />
                                                    </viz:feeds>
                                                </viz:VizFrame>
                                            </chart:content>
                                        </chart:ChartContainerContent>
                                    </chart:content>
                                </chart:ChartContainer>
                            </m:VBox>
                        </m:HBox>

                        <m:HBox
                            width="100%"
                            justifyContent="SpaceBetween"
                            class="sapUiMediumMarginTop"
                        >
                            <m:VBox width="48%">
                                <chart:ChartContainer
                                    id="monthlyTrendContainer"
                                    showFullScreen="true"
                                    showPersonalization="true"
                                    autoAdjustHeight="true"
                                    title="Monthly Cost Trend"
                                    width="100%"
                                >
                                    <chart:content>
                                        <chart:ChartContainerContent
                                            icon="sap-icon://line-chart"
                                            title="Monthly Cost Trend"
                                        >
                                            <chart:content>
                                                <viz:VizFrame
                                                    id="monthlyTrendChart"
                                                    vizType="line"
                                                    width="100%"
                                                    height="500px"
                                                    uiConfig="{applicationSet:'fiori'}"
                                                    vizProperties='{
                                             "plotArea": { "dataLabel": { "visible": true }},
                                                        "valueAxis": { "title": { "visible": true, "text": "Total Cost" }},
                                                        "categoryAxis": { "title": { "visible": true, "text": "Month" }}
                                             }'
                                                >
                                                    <viz:dataset>
                                                        <viz.data:FlattenedDataset
                                                            data="{costObj>/monthlyTrendChart}"
                                                        >
                                                            <viz.data:dimensions
                                                            >
                                                                <viz.data:DimensionDefinition
                                                                    name="Month"
                                                                    value="{costObj>Month}"
                                                                />
                                                            </viz.data:dimensions>

                                                            <viz.data:measures>
                                                                <viz.data:MeasureDefinition
                                                                    name="Total Cost"
                                                                    value="{costObj>TotalCost}"
                                                                />
                                                            </viz.data:measures>
                                                        </viz.data:FlattenedDataset>
                                                    </viz:dataset>

                                                    <viz:feeds>
                                                        <viz.feeds:FeedItem
                                                            uid="valueAxis"
                                                            type="Measure"
                                                            values="Total Cost"
                                                        />
                                                        <viz.feeds:FeedItem
                                                            uid="categoryAxis"
                                                            type="Dimension"
                                                            values="Month"
                                                        />
                                                    </viz:feeds>
                                                </viz:VizFrame>
                                            </chart:content>
                                        </chart:ChartContainerContent>
                                    </chart:content>
                                </chart:ChartContainer>
                            </m:VBox>

                            <m:VBox width="48%">
                                <chart:ChartContainer
                                    id="planChartContainer"
                                    showFullScreen="true"
                                    showPersonalization="false"
                                    autoAdjustHeight="false"
                                    title="Cost by Plan"
                                    width="100%"
                                >
                                    <chart:content>
                                        <chart:ChartContainerContent
                                            title="Cost by Plan"
                                        >
                                            <chart:content>
                                                <viz:VizFrame
                                                    id="planPieChart"
                                                    vizType="pie"
                                                    width="100%"
                                                    height="500px"
                                                    uiConfig="{applicationSet:'fiori'}"
                                                    vizProperties='{
                                                            "plotArea": {
                                                           "dataLabel": {
                                                               "visible": true,
                                                          "type": "percentage"
                                                              }
                                                                     },
                                                     "legend": { "visible": true }
                                                             }'
                                                >
                                                    <viz:dataset>
                                                        <viz.data:FlattenedDataset
                                                            data="{costObj>/planCostChart}"
                                                        >
                                                            <viz.data:dimensions
                                                            >
                                                                <viz.data:DimensionDefinition
                                                                    name="Plan"
                                                                    value="{costObj>PlanName}"
                                                                />
                                                            </viz.data:dimensions>

                                                            <viz.data:measures>
                                                                <viz.data:MeasureDefinition
                                                                    name="Cost"
                                                                    value="{costObj>Cost}"
                                                                />
                                                            </viz.data:measures>
                                                        </viz.data:FlattenedDataset>
                                                    </viz:dataset>

                                                    <viz:feeds>
                                                        <viz.feeds:FeedItem
                                                            uid="size"
                                                            type="Measure"
                                                            values="Cost"
                                                        />
                                                        <viz.feeds:FeedItem
                                                            uid="color"
                                                            type="Dimension"
                                                            values="Plan"
                                                        />
                                                    </viz:feeds>
                                                </viz:VizFrame>
                                            </chart:content>
                                        </chart:ChartContainerContent>
                                    </chart:content>
                                </chart:ChartContainer>
                            </m:VBox>
                        </m:HBox>
                    </m:VBox>
                </m:IconTabFilter>
            </m:items>
        </m:IconTabBar>
    </m:Page>
</mvc:View>
